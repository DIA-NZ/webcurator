<?xml version="1.0" encoding="UTF-8"?>
<beans default-autowire="no" default-lazy-init="false" xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:context="http://www.springframework.org/schema/context"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/tx
    http://www.springframework.org/schema/tx/spring-tx.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context.xsd">

<!--	<tx:annotation-driven transaction-manager="transactionManager" />

	<context:component-scan base-package="org.webcurator.spring" />
	<context:annotation-config />-->

    <bean id="WCTCoreConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="locations">
            <list>
                <value>classpath:wct-core.properties</value>
            </list>
        </property>
        <property name="ignoreResourceNotFound" value="true"/>
        <property name="ignoreUnresolvablePlaceholders" value="true"/>
        <property name="order" value="150"/>
        <property name="properties">  
		   <props>  
		   		<!-- Defaults for values not specified in properties file -->
      			<prop key="qualityReviewToolController.archiveName"/>  
      			<prop key="qualityReviewToolController.archive.alternative"/>
      			<prop key="qualityReviewToolController.archive.alternative.name"/>
      			<prop key="harvestCoordinator.harvestOptimizationEnabled">false</prop>
      			<prop key="harvestCoordinator.harvestOptimizationLookaheadHours">24</prop>
      			<prop key="harvestCoordinator.numHarvestersExcludedFromOptimisation">0</prop>
   			</props>  
  		</property>  
    </bean>

	<bean id="messageSource" class="org.springframework.context.support.ResourceBundleMessageSource">
		<property name="basename" value="messages"/>
	</bean>
	
	<bean id="userRoleDAO" class="org.webcurator.domain.UserRoleDAOImpl">
	</bean>

	<bean id="hibernateTestDao" class="org.webcurator.domain.HibernateTestDAOImpl">
	</bean>

	<bean id="lockManager" class="org.webcurator.core.util.LockManager" abstract="false" scope="singleton" lazy-init="default" autowire="default"/>

	<bean id="permissionMappingStrategy" class="org.webcurator.core.permissionmapping.HierarchicalPermissionMappingStrategy" scope="singleton">
		<property name="dao" ref="permMappingDao"/>
	</bean>

	<bean id="permMappingDao" class="org.webcurator.core.permissionmapping.HierPermMappingDAOImpl">
	</bean>
	
	<bean id="authorityManager" class="org.webcurator.auth.AuthorityManagerImpl" abstract="false" scope="singleton" lazy-init="default" autowire="default"></bean>

</beans>
